{"version":3,"file":"firestitch-scroll-picker.js","sources":["../../src/app/directives/scroll-picker-template.directive.ts","../../src/app/components/scroll-picker/scroll-picker.component.ts","../../src/app/components/scroll-picker/scroll-picker.component.html","../../src/app/fs-scroll-picker.module.ts","../../src/public_api.ts","../../src/firestitch-scroll-picker.ts"],"sourcesContent":["import { Directive } from '@angular/core';\n\n\n@Directive({\n  selector: '[fs-scroll-picker-template]'\n})\nexport class ScrollPickerTemplateComponent {}\n","import {\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ElementRef,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { fromEvent, merge, Subject } from 'rxjs';\nimport { filter, takeUntil, tap } from 'rxjs/operators';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { ScrollPickerTemplateComponent } from '../../directives/scroll-picker-template.directive';\n\n\n@Component({\n  selector: 'fs-scroll-picker',\n  templateUrl: './scroll-picker.component.html',\n  styleUrls: ['./scroll-picker.component.scss'],\n  providers: [ {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ScrollPickerComponent),\n    multi: true\n  } ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ScrollPickerComponent implements OnInit, OnDestroy, OnChanges, ControlValueAccessor {\n\n  @ContentChild(ScrollPickerTemplateComponent, { read: TemplateRef })\n  public template: TemplateRef<ScrollPickerTemplateComponent>;\n\n  @ViewChild('scrollContainer', { static: true }) \n  public scrollContainer: ElementRef;\n\n  @Input() values = [];\n  @Input() valuesMin;\n  @Input() valuesMax;\n  @Input() \n  @HostBinding('style.width') width;\n\n  static readonly maxDelta = 13;\n\n  public displayValues = [];\n  public value;\n  public valuesEl;\n  public hideCursor = false;\n\n  private _wheelDelta = 0;\n  private _touchDelta = 0;\n  private _mouseDelta = 0;\n  private _touchY = 0;\n  private _mouseY = 0;\n  private _touchDestroy$: Subject<void>;\n  private _mouseDestroy$: Subject<void>;\n  private _destroy$ = new Subject();\n  private _onTouched = () => {};\n  private _onChange = (value: any) => {};\n\n  constructor(private _cdRef: ChangeDetectorRef) {}\n\n  public ngOnInit() {\n    this.valuesEl = this.scrollContainer.nativeElement.querySelector('.values');\n    this.updateValues();\n\n    fromEvent(this.scrollContainer.nativeElement, 'wheel')\n    .pipe(\n      tap((event: any) => {\n        event.preventDefault();\n        event.stopPropagation(); \n      }),\n      filter((event: any) => {\n        this._wheelDelta += Math.abs(event.wheelDeltaY);\n        return this._wheelDelta > ScrollPickerComponent.maxDelta;\n      }), \n      takeUntil(this._destroy$),\n    )\n    .subscribe((event: UIEvent) => {\n      this._wheelDelta = 0;\n      this.scroll(event);\n    });\n\n    merge(\n      fromEvent(this.scrollContainer.nativeElement, 'touchstart'),\n    )\n    .pipe(\n      takeUntil(this._destroy$),\n    )\n    .subscribe((event: UIEvent) => {\n      this.touchStart(event);\n    });\n\n    merge(\n      fromEvent(this.scrollContainer.nativeElement, 'mousedown')\n    )\n    .pipe(\n      takeUntil(this._destroy$),\n    )\n    .subscribe((event: UIEvent) => {\n      this.mouseStart(event);\n    });      \n  }\n\n  public ngOnChanges(changes: SimpleChanges): void {\n    if(changes.valuesMin?.firstChange === false || changes.valuesMax?.firstChange === false) {\n      if(this.valuesMin !== undefined && this.valuesMax !== undefined) {\n        this.updateValues();\n        this.updateIndex(this.getValueIndex());\n      }\n    }\n  }\n\n  public updateValues() {\n    if(this.valuesMin !== undefined && this.valuesMax !== undefined) {\n      this.values = [];\n      for(let i = this.valuesMin; i <= this.valuesMax; i++) {\n        this.values.push({ name: i, value: i });\n      }\n    }\n  }\n\n  public writeValue(value: any) {\n    this.value = value;\n    let index = this.getValueIndex();\n\n    index = index === -1 ? 0 : index;\n    this.updateIndex(index);\n  }\n  \n  public registerOnChange(fn: (value: any) => any): void {\n    this._onChange = fn\n  }\n\n  public registerOnTouched(fn: () => any): void {\n    this._onTouched = fn\n  }\n\n  public touchStart(event) {\n    event.preventDefault();\n    this._touchY = event.targetTouches[0].pageY;\n    this._touchDestroy$ = new Subject();\n\n    merge(\n      fromEvent(document, 'touchmove'),\n    )\n    .pipe(\n      filter((event: any) => {\n        this._touchDelta += event.targetTouches[0].pageY - this._touchY;\n        this._touchY = event.targetTouches[0].pageY;\n        return Math.abs(this._touchDelta) > ScrollPickerComponent.maxDelta;\n      }),       \n      takeUntil(this._touchDestroy$),\n      takeUntil(this._destroy$),\n    )\n    .subscribe((event: any) => {\n      this.touchMove();\n      this._touchDelta = 0;\n    }); \n\n    merge(\n      fromEvent(document, 'touchend'),\n      fromEvent(document, 'touchcancel'),\n    )\n    .pipe(\n      takeUntil(this._touchDestroy$),\n      takeUntil(this._destroy$),\n    )\n    .subscribe(() => {\n      this._touchDestroy$.next();\n      this._touchDestroy$.complete();\n      this._touchDestroy$ = null;\n    });  \n  }\n\n  public mouseStart(event) {\n    event.preventDefault();\n    this._mouseY = event.pageY;\n    this._mouseDestroy$ = new Subject();\n\n    merge(\n      fromEvent(document, 'mousemove')\n    )\n    .pipe(\n      filter((event: MouseEvent) => {\n        this._mouseDelta += event.pageY - this._mouseY;\n        this._mouseY = event.pageY;\n        return Math.abs(this._mouseDelta) > ScrollPickerComponent.maxDelta;          \n      }),       \n      takeUntil(this._mouseDestroy$),\n      takeUntil(this._destroy$),\n    )\n    .subscribe(() => {\n      this.mouseMove();\n      this._mouseDelta = 0;\n    }); \n\n    merge(\n      fromEvent(document, 'mouseup')\n    )\n    .pipe(\n      takeUntil(this._mouseDestroy$),\n      takeUntil(this._destroy$),\n    )\n    .subscribe(() => {\n      this._mouseDestroy$.next();\n      this._mouseDestroy$.complete();\n      this._mouseDestroy$ = null;\n    });  \n  }\n  \n  public mouseMove() {\n    if(this._mouseDelta < 0) {\n      this.next();\n    } else {\n      this.prev();\n    }\n  }\n\n  public touchMove() {\n    if(this._touchDelta < 0) {\n      this.next();\n    } else {\n      this.prev();\n    }\n  }\n\n  public scroll(event: any) {\n    if (event.deltaY > 0) {\n      this.next();\n\n    } else {\n      this.prev();\n    }        \n  }\n\n  public prev() {\n    let index = this.getValueIndex();\n\n    if(index === 0) {\n      index = this.values.length;\n    }\n\n    index--;\n    this.updateIndex(index);    \n  }\n\n  public next() {\n    let index = this.getValueIndex();\n\n    if(index === (this.values.length - 1)) {\n      index = -1;\n    }\n    \n    index++; \n    \n    this.updateIndex(index);\n  }\n\n  public getValueIndex() {\n    return this.values.findIndex((item) => {\n      return this.value === item.value;\n    }); \n  }\n\n  public updateIndex(index) {\n    if(!this.values[index]) {\n      index = 0;\n    }\n\n    this.value = this.values[index] ? this.values[index].value : null;\n    this._onChange(this.value);\n\n    let start = index - 3;\n    let end = index + 4;\n    \n    this.displayValues = [];\n    if(start < 0) {\n      this.displayValues = [\n        ...this.values.slice(start),\n        ...this.values.slice(0, end),\n      ];\n    } else if(end > (this.values.length - 1)) {\n      end = this.values.length - end;\n      this.displayValues = [\n        ...this.values.slice(start),\n        ...this.values.slice(0, end),\n      ];\n      \n    } else {\n      this.displayValues = [\n        ...this.values.slice(start, end),\n      ];\n    }\n\n    this._cdRef.markForCheck();\n  }\n\n  public valueClick(index): void {\n    if(index > 0) {\n      for(let i=0; i < Math.abs(index);i++) {\n        this.next();\n      }\n    } else {\n      for(let i=0; i < Math.abs(index);i++) {\n        this.prev();\n      }\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n}\n","<div \n    class=\"scroll-container\" \n    #scrollContainer>\n  <div class=\"top\"></div>\n  <div class=\"bottom\"></div>\n  <div class=\"scroller\">\n      <div class=\"values\">\n        <div \n            class=\"value value1\" \n            (click)=\"valueClick(-3)\"\n            [ngStyle]=\"{ transform: 'rotateX(67.5deg) translateZ(90px) translate3d(0px, 0px, 0px)' }\">\n          {{displayValues[0]?.name}}\n        </div>\n        <div \n            class=\"value value1\" \n            (click)=\"valueClick(-2)\"\n            [ngStyle]=\"{ transform: 'rotateX(45deg) translateZ(90px) translate3d(0px, 0px, 0px)' }\">\n          {{displayValues[1]?.name}}\n        </div>\n        <div \n            class=\"value value1\" \n            (click)=\"valueClick(-1)\"\n            [ngStyle]=\"{ transform: 'rotateX(22.5deg) translateZ(90px) translate3d(0px, 0px, 0px)' }\">\n          {{displayValues[2]?.name}}\n        </div>\n        <div \n            class=\"value value1\" \n            [ngStyle]=\"{ transform: 'rotateX(0deg) translateZ(90px) translate3d(0px, 0px, 0px)' }\">\n          {{displayValues[3]?.name}}\n        </div>\n        <div \n            class=\"value value1\" \n            (click)=\"valueClick(1)\"\n            [ngStyle]=\"{ transform: 'rotateX(-22.5deg) translateZ(90px) translate3d(0px, 0px, 0px)' }\">\n          {{displayValues[4]?.name}}\n        </div>\n        <div \n            class=\"value value1\" \n            (click)=\"valueClick(2)\"\n            [ngStyle]=\"{ transform: 'rotateX(-45deg) translateZ(90px) translate3d(0px, 0px, 0px)' }\">\n          {{displayValues[5]?.name}}\n        </div>\n        <div \n            class=\"value value1\" \n            (click)=\"valueClick(3)\"\n            [ngStyle]=\"{ transform: 'rotateX(-67.5deg) translateZ(90px) translate3d(0px, 0px, 0px)' }\">\n          {{displayValues[6]?.name}}\n        </div>\n      </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ScrollPickerComponent } from './components/scroll-picker/scroll-picker.component';\nimport { ScrollPickerTemplateComponent } from './directives/scroll-picker-template.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  exports: [\n    ScrollPickerComponent,\n    ScrollPickerTemplateComponent\n  ],\n  declarations: [\n    ScrollPickerComponent,\n    ScrollPickerTemplateComponent\n  ],\n})\nexport class FsScrollPickerModule {}\n","/*\n * Public API Surface of fs-menu\n */\n\nexport { FsScrollPickerModule } from './app/fs-scroll-picker.module';\n\nexport { ScrollPickerComponent } from './app/components/scroll-picker/scroll-picker.component';\nexport { ScrollPickerTemplateComponent } from './app/directives/scroll-picker-template.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}